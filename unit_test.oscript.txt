[ 
	"autonomous agent", { 
		init: "{
			$aa_to_test = "6BDSNLXVP6NIAPPXCCVZWRRL3CHEWSTQ";
			$account_name = "a1";
		}",
		
	   	messages: {
			cases: [
				{ // create account with 3 parties
					if: "{ trigger.data.c }",
					messages: [
                  		{ 
							app: 'data', payload: {
                        		create: "{ $account_name }",
								other_party: "{"35IT3ZYKEPQSCXG2F7A7KWNRAD3SZXN4"}",
							}
						},
						{ 
							app: 'payment', payload: {	
								asset: "{'base'}",outputs: [
									{
										address: "{$aa_to_test}", 
										amount: "{ 9000 }" 
									}
								]
							}
						},
					]
				},
           		{ 
					if: "{ trigger.data.a }",
					messages: [
                  		{ 
							app: 'data', payload: {
								name: "{$account_name }",
								amount: "{4000}",
							}
						},
						{ 
							app: 'payment', payload: {
								asset: "{'base'}",
								outputs: [
									{
										address: "{$aa_to_test}", 
										amount: "{ 9000 }" 
									}
								]
							}
						},
						{ 
							app: "state", state: "{
								response['message'] = "proposition send";
							}"
						}
					]
				},
				
				{ // default case
					messages: [
						{ 
							app: "state", state: "{
							}"
						}
					]
				}
			]
		}
	}
]
